<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Siti & Angga | anncode.dev</title>

  <!-- SEO & Open Graph -->
  <meta name="description" content="Kami mengundang Saudara/i untuk hadir dalam acara pernikahan kami.">
  <meta property="og:title" content="Siti & Angga | anncode.dev">
  <meta property="og:description" content="Kami mengundang Saudara/i untuk hadir dalam acara pernikahan kami.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://invwedding-628de.web.app/images/gambar-1.jpg">
  <meta property="og:image:secure_url" content="https://invwedding-628de.web.app/images/gambar-1.jpg">
  <meta property="og:url" content="https://invwedding-628de.web.app/">
  <meta property="og:image:width" content="600">
  <meta property="og:image:height" content="600">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://invwedding-628de.web.app/">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <style>
    @font-face {
      font-family: "hdr";
      src: url(fonts/Mistrully.ttf) format("truetype");
    }
    @font-face {
      font-family: "txt";
      src: url(fonts/Merienda-VariableFont_wght.ttf) format("truetype");
    }
    @font-face {
      font-family: "Header";
      src: url(fonts/Allura-Regular.ttf) format("truetype");
    }
    @font-face {
      font-family: "PopLight";
      src: url(/fonts/Poppins-Light.ttf) format("truetype");
    }

    /* Body & HTML */
    body {
      font-family: "hdr";
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    html {
      scroll-behavior: smooth;
    }

    img, video {
      max-width: 100%;
      height: auto;
    }

    html, body {
      overflow-x: hidden;
    }

    /* Intro fullscreen dan fixed di mobile */
    #intro {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 9999;
    }

    /* Video background cover */
    #intro video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 1;
    }

    #intro-content {
      position: absolute;
      bottom: 10%; /* jarak dari bawah */
      left: 0;
      right: 0;
      z-index: 2;
      text-align: center;
      padding: 0 1rem;
    }
  </style>
</head>
<body class="font-sans">

  <!-- Intro Section -->
  <section id="intro" class="text-white transition-opacity duration-700">
    <video autoplay muted playsinline loop>
      <source src="video/pembukaan.mp4" type="video/mp4">
    </video>

    <div id="intro-content" class="transition-opacity duration-500">
      <p class="text-base font-[txt]">Kepada Yth.</p>
      <p class="text-xl font-semibold mt-2 font-[txt]" id="nama-tamu">Tamu Undangan</p>
      <button id="btn-open" class="bg-white/10 backdrop-blur-sm text-sm border border-white text-white px-6 py-3 mt-5 rounded-md transition-transform hover:scale-105 font-[txt]">
        Buka Undangan
      </button>
    </div>
  </section>

  <script>
    // Nama tamu dari URL ?to=
    const params = new URLSearchParams(window.location.search);
    const namaTamu = params.get('to') || 'Tamu Undangan';
    document.getElementById('nama-tamu').innerText = namaTamu;

    // Audio looping
    const musicUrl = 'music/music.mp3';
    let audio = new Audio(musicUrl);
    audio.loop = true;

    // Tombol buka undangan
    document.getElementById('btn-open').addEventListener('click', async () => {
      try { await audio.play(); } catch(e) {}

      // Fade out intro
      const intro = document.getElementById('intro');
      intro.style.opacity = 0;
      intro.style.pointerEvents = 'none';

      // Tunggu transisi 700ms
      await new Promise(r => setTimeout(r, 700));
      intro.style.display = 'none';

      // Scroll ke section our-story
      const el = document.getElementById('our-story');
      if(el) el.scrollIntoView({ behavior: 'smooth' });
    });

    // Pause/play audio saat tab tidak aktif
    document.addEventListener('visibilitychange', () => {
      if(!audio) return;
      if(document.hidden) audio.pause();
      else audio.play().catch(() => {});
    });
  </script>

</body>
</html>
